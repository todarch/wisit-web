<ng-container *ngIf="noMoreQuestions">
  <p>No more questions for you, come back later.</p>
</ng-container>

<ng-container *ngIf="!noMoreQuestions">
    <div class="question-card">
    <mat-card #questionCard>
      <div class="image-holder">
        <img mat-card-image
             class="question-img"
             (load)="imageLoaded()"
             src="{{simpleQuestion.picUrl}}"
             alt="picture of a location">
        <ng-container *ngIf="answered()">
          <mat-icon matTooltip="Next" class="next-arrow-icon" (click)="next()">navigate_next</mat-icon>
        </ng-container>
      </div>
      <mat-card-content>
        <ng-container *ngFor="let choice of simpleQuestion.choices">
          <button mat-button class="choice-button"
                  disabled="{{answered()}}"
                  (click)="onAnswer(choice)"
                  color="{{getButtonColor(choice)}}">
            <mat-icon>{{getButtonIcon(choice)}}</mat-icon>
            {{choice.name | uppercase}}</button>
        </ng-container>
      </mat-card-content>
    </mat-card>
    <div fxLayout="row" fxLayoutAlign="space-between center" >
      <div matTooltip="Answered {{simpleQuestion.answeredCount}} times">
        {{simpleQuestion.answeredCount}} times
        â€¢
        {{toHumanDate(simpleQuestion.createdAt)}}
      </div>
      <div>
        <button matTooltip="I like this" mat-button class="question-action-button"
                (click)="like(simpleQuestion)">
          <mat-icon color="{{questionReactionStats?.liked ? 'primary' : ''}}">
            thumb_up</mat-icon> {{questionReactionStats?.likes}}</button>
        <button matTooltip="I dislike this" mat-button class="question-action-button"
                (click)="dislike(simpleQuestion)">
          <mat-icon color="{{questionReactionStats?.disliked ? 'primary' : ''}}">
          thumb_down</mat-icon> {{questionReactionStats?.dislikes}}</button>
        <mat-menu #appMenu="matMenu">
          <button mat-button (click)="openDialog()">
            <mat-icon>flag</mat-icon>Report</button>
        </mat-menu>

        <button mat-icon-button [matMenuTriggerFor]="appMenu">
          <mat-icon>more_horiz</mat-icon>
        </button>
      </div>
    </div>
    <mat-divider></mat-divider>
  </div>
</ng-container>
